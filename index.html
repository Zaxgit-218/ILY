<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Simone üíñ</title>
    <style>
        :root {
            --primary-color: #ff4d6d;
            --bg-color: #fff0f3;
            --text-color: #590d22;
            --font-main: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            transition: background-color 0.5s ease, color 0.5s ease;
        }

        body {
            font-family: var(--font-main);
            background-color: var(--bg-color);
            color: var(--text-color);
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            text-align: center;
        }

        #app {
            width: 95%;
            max-width: 450px;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 24px;
            box-shadow: 0 15px 35px rgba(255, 77, 109, 0.15);
            z-index: 10;
            position: relative;
        }

        .screen {
            display: none;
            flex-direction: column;
            align-items: center;
            gap: 1.5rem;
            animation: fadeIn 0.5s ease-out forwards;
        }

        .screen.active {
            display: flex;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }

        h1 { font-size: 1.8rem; margin-bottom: 0.5rem; color: inherit; }
        p { font-size: 1.15rem; line-height: 1.5; font-weight: 500; color: inherit; }

        input[type="text"] {
            padding: 1rem;
            border: 2px solid var(--primary-color);
            border-radius: 12px;
            width: 100%;
            outline: none;
            font-size: 1rem;
            text-align: center;
            background: white;
            color: #333;
        }

        .btn-container {
            display: flex;
            gap: 1rem;
            justify-content: center;
            width: 100%;
            position: relative;
            min-height: 80px;
            margin-top: 1rem;
        }

        button {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 800;
            font-size: 1rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .btn-next { 
            background-color: var(--primary-color) !important; 
            color: white !important; 
            box-shadow: 0 4px 15px rgba(255, 77, 109, 0.4);
            width: 100%;
            min-height: 50px;
        }

        .btn-yes { background-color: #2ecc71; color: white; min-width: 110px; box-shadow: 0 4px 15px rgba(46, 204, 113, 0.3); }
        .btn-no { background-color: #e74c3c; color: white; min-width: 110px; box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3); }

        button:hover { transform: scale(1.05); filter: brightness(1.05); }
        button:active { transform: scale(0.95); }

        .success-img {
            max-width: 200px;
            border-radius: 12px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            margin-top: 10px;
            animation: popIn 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @keyframes popIn {
            from { opacity: 0; transform: scale(0.5); }
            to { opacity: 1; transform: scale(1); }
        }

        .emoji-float {
            position: absolute;
            pointer-events: none;
            animation: floatUp 4s linear forwards;
            z-index: 1;
        }

        @keyframes floatUp {
            0% { transform: translateY(110vh) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(-10vh) rotate(360deg); opacity: 0; }
        }

        #confetti-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 100;
        }
    </style>
</head>
<body>

    <canvas id="confetti-canvas"></canvas>

    <div id="app">
        <!-- CUSTOMIZATION SCREENS -->
        <div id="screen-custom" class="screen active">
            <h1 id="custom-title">For Simone üíñ</h1>
            <p id="custom-prompt">What's your favorite color?</p>
            <input type="text" id="custom-input" placeholder="e.g. Lavender, Rose...">
            <button class="btn-next" onclick="handleCustomNext()">Next ‚Üí</button>
        </div>

        <!-- MAIN QUESTION SCREEN -->
        <div id="screen-main" class="screen">
            <h1 id="valentine-text">Simone, will you be my Valentine?</h1>
            <div class="btn-container" id="main-btns">
                <button id="btn-yes" class="btn-yes" onclick="handleYesClick()">üíñ YES</button>
                <button id="btn-no" class="btn-no" onclick="handleNoClick()">üíî NO</button>
            </div>
        </div>

        <!-- SUCCESS SCREEN -->
        <div id="screen-success" class="screen">
            <h1 id="success-title">YAY! üéâ</h1>
            <p id="success-message" style="white-space: pre-wrap;"></p>
            <img src="https://upload.wikimedia.org/wikipedia/en/f/ff/SuccessKid.jpg" alt="Success!" class="success-img">
            <div style="font-size: 2rem; margin-top: 0.5rem;" id="success-emoji">üíñ</div>
        </div>

        <!-- FAILURE SCREEN -->
        <div id="screen-fail" class="screen">
            <h1>Thank you, Simone.</h1>
            <p id="fail-message" style="font-size: 1rem; font-weight: normal;"></p>
        </div>
    </div>

    <script>
        const GITHUB_CONFIG = { enabled: false };
        let currentStep = 0;
        let isLooping = false;
        const answers = { nickname: "Simone", color: "", emoji: "üíñ", vibe: "", mood: "" };

        const customQuestions = [
            { field: 'color', title: "Style Check üé®", prompt: "What is your favorite color?", placeholder: "e.g. Pink, Blue, Purple..." },
            { field: 'emoji', title: "The Little Things ‚ú®", prompt: "Pick a favorite emoji or symbol:", placeholder: "e.g. ‚ú®, üå∏, üç¨, üê±..." },
            { field: 'vibe', title: "The Atmosphere üåà", prompt: "Preferred vibe? (cute / funny / soft / dramatic)", placeholder: "Type one..." },
            { field: 'mood', title: "The Soundtrack üéµ", prompt: "Describe your favorite music mood:", placeholder: "e.g. Lo-fi, Upbeat, Romantic..." }
        ];

        const noPrompts = [
            "Are you sure?", "Are you really sure?", "Think about it again?", "Really really sure?",
            "Are you positive?", "Wait, reconsider?", "Give it another thought?", "Don't say YES yet!",
            "I'll be very sad...", "I'll be super sad...", "I'll be the saddest...", "Please? ‚ú®",
            "Is that your final answer?", "Last chance to change!", "Are you absolutely certain?",
            "What if I say please?", "Pretty please?", "With a cherry on top?", "Don't do this! ü•∫",
            "Final, final answer?"
        ];
        let promptCount = 0;

        function handleCustomNext() {
            const input = document.getElementById('custom-input');
            const val = input.value.trim();
            if (!val) return;

            const currentField = customQuestions[currentStep].field;
            answers[currentField] = val;

            if (currentField === 'color') {
                document.documentElement.style.setProperty('--primary-color', val);
                document.body.style.backgroundColor = val + '15'; 
            }

            currentStep++;

            if (currentStep < customQuestions.length) {
                document.getElementById('custom-title').innerText = customQuestions[currentStep].title;
                document.getElementById('custom-prompt').innerText = customQuestions[currentStep].prompt;
                input.placeholder = customQuestions[currentStep].placeholder;
                input.value = "";
            } else {
                startMainQuestion();
            }
        }

        function startMainQuestion() {
            document.getElementById('screen-custom').classList.remove('active');
            document.getElementById('screen-main').classList.add('active');
            
            if(answers.vibe.toLowerCase() === 'dramatic') {
                document.body.style.transition = "all 2s";
                document.body.style.backgroundColor = "#0d0d0d";
                document.body.style.color = "#ff4d6d";
            }
            setInterval(spawnEmoji, 800);
        }

        function spawnEmoji() {
            const el = document.createElement('div');
            el.className = 'emoji-float';
            el.innerText = answers.emoji || "üíñ";
            el.style.left = Math.random() * 100 + 'vw';
            el.style.fontSize = (Math.random() * 30 + 20) + 'px';
            const duration = Math.random() * 3 + 3;
            el.style.animationDuration = duration + 's';
            document.body.appendChild(el);
            setTimeout(() => el.remove(), duration * 1000);
        }

        function handleNoClick() {
            if (!isLooping) {
                isLooping = true;
                document.getElementById('valentine-text').innerText = noPrompts[promptCount];
                promptCount++;
                shuffleNoButton();
            } else {
                finishSuccess();
            }
        }

        function handleYesClick() {
            if (!isLooping) {
                finishSuccess();
                return;
            }

            if (promptCount < noPrompts.length) {
                document.getElementById('valentine-text').innerText = noPrompts[promptCount];
                shuffleNoButton();
                promptCount++;
            } else {
                finishFail();
            }
        }

        function shuffleNoButton() {
            const noBtn = document.getElementById('btn-no');
            const x = (Math.random() - 0.5) * 200; 
            const y = (Math.random() - 0.5) * 100; 
            noBtn.style.transform = `translate(${x}px, ${y}px) scale(${1 + (promptCount * 0.05)})`;
        }

        function finishSuccess() {
            document.getElementById('screen-main').classList.remove('active');
            document.getElementById('screen-success').classList.add('active');
            document.getElementById('success-message').innerText = 
                `You just made my day.\nI‚Äôm really happy you said yes üíñ\nThankk youuuu`;
            document.getElementById('success-emoji').innerText = answers.emoji;
            startConfetti();
        }

        function finishFail() {
            document.getElementById('screen-main').classList.remove('active');
            document.getElementById('screen-fail').classList.add('active');
            document.getElementById('fail-message').innerHTML = 
                `I appreciate you answering honestly.<br><br>` +
                `Sometimes the best thing is simply being clear, and that‚Äôs more than enough.<br><br>` +
                `Thanks for being here, and I hope today treats you kindly üíñ`;
        }

        function startConfetti() {
            const canvas = document.getElementById('confetti-canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            const pieces = [];
            const colors = [answers.color || '#ff4d6d', '#ff758f', '#ffb3c1', '#ffffff', '#2ecc71'];
            for (let i = 0; i < 150; i++) {
                pieces.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height - canvas.height,
                    size: Math.random() * 10 + 5,
                    color: colors[Math.floor(Math.random() * colors.length)],
                    speed: Math.random() * 3 + 2,
                    rotation: Math.random() * 360,
                    dir: Math.random() > 0.5 ? 1 : -1
                });
            }
            function draw() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                pieces.forEach(p => {
                    ctx.save();
                    ctx.translate(p.x, p.y);
                    ctx.rotate(p.rotation * Math.PI / 180);
                    ctx.fillStyle = p.color;
                    ctx.fillRect(-p.size/2, -p.size/2, p.size, p.size);
                    ctx.restore();
                    p.y += p.speed;
                    p.rotation += 2 * p.dir;
                    if (p.y > canvas.height) p.y = -20;
                });
                requestAnimationFrame(draw);
            }
            draw();
        }
    </script>
</body>
</html>
